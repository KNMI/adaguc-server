<?xml version="1.0" encoding="UTF-8"?>
<Configuration>


  <Style name="wind_colors_from_kts">
    <ShadeInterval min="0" max="7" label="0-7 (&lt;3 bft)" fillcolor="#FFFFB4"/>
    <ShadeInterval min="7" max="11" label="7-11 (3 bft)" fillcolor="#FFFF00"/>
    <ShadeInterval min="11" max="16" label="11-16 (4 bft)" fillcolor="#81FF00"/>
    <ShadeInterval min="16" max="21" label="16-21 (5 bft)" fillcolor="#008D2C"/>
    <ShadeInterval min="21" max="27" label="21-27 (6 bft)" fillcolor="#00FFFF"/>
    <ShadeInterval min="27" max="34" label="27-34 (7 bft)" fillcolor="#74A3FF"/>
    <ShadeInterval min="34" max="41" label="34-41 (8 bft)" fillcolor="#0000FF"/>
    <ShadeInterval min="41" max="48" label="41-48 (9 bft)" fillcolor="#FF30FF"/>
    <ShadeInterval min="48" max="56" label="48-56 (10 bft)" fillcolor="#FF8100"/>
    <ShadeInterval min="56" max="64" label="56-64 (11 bft)" fillcolor="#FF0000"/>
    <ShadeInterval min="64" max="74" label="64-74 (12 bft / sshws 1)" fillcolor="#FFFF00"/>
    <ShadeInterval min="74" max="84" label="74-84 (sshws 1)" fillcolor="#C0C0C0"/>
    <ShadeInterval min="84" max="100" label="84-100 (sshws 2)" fillcolor="#818181"/>
    <ShadeInterval min="100" max="200" label="100-200 (sshws 3-5)" fillcolor="#3E3E3E"/>
  </Style>

  <Style name="wind_colors_from_ms">
    <ShadeInterval min="0" max="0.3"     label=" 0  [  &lt; 0 kts] (&lt; 0.3 m/s)" fillcolor="#9600fe"/>
    <ShadeInterval min="0.3" max="1.6"   label=" 1  [  1-3 kts  ] (0.3-1.6 m/s)" fillcolor="#9600fe"/>
    <ShadeInterval min="1.6" max="3.4"   label=" 2  [  4-6 kts  ] (1.6-3.4 m/s)" fillcolor="#0064fe"/>
    <ShadeInterval min="3.4" max="5.5"   label=" 3  [  7-10 kts ] (3.4-5.5 m/s)" fillcolor="#00c8fe"/>
    <ShadeInterval min="5.5" max="8.0"   label=" 4  [ 11-16 kts ] (5.5-8.0 m/s)" fillcolor="#25c192"/>
    <ShadeInterval min="8.0" max="10.8"  label=" 5  [ 17-21 kts ] (8.0-10.8 m/s)" fillcolor="#00e600"/>
    <ShadeInterval min="10.8" max="13.9" label=" 6  [ 22-27 kts ] (10.8-13.9 m/s)" fillcolor="#00fa00"/>
    <ShadeInterval min="13.9" max="17.2" label=" 7  [ 28-33 kts ] (13.9-17.2 m/s)" fillcolor="#feae00"/>
    <ShadeInterval min="17.2" max="20.8" label=" 8  [ 34-40 kts ] (17.2-20.8 m/s)" fillcolor="#b40032"/>
    <ShadeInterval min="20.8" max="24.5" label=" 9  [ 41-47 kts ] (20.8-24.5 m/s)" fillcolor="#fE0096"/>
    <ShadeInterval min="24.5" max="200"  label="10 [  &gt;48 kts ] (&gt;24.5 m/s)" fillcolor="#420027"/>
  </Style>
  
  <Style name="Windbarbs" title="Wind barbs" abstract="Rendered with barbs">
    <Scale>1</Scale>
    <Offset>0</Offset>
    <RenderMethod>barb</RenderMethod>
  </Style>

  <Style name="Windbarbwithnumbers" title="Wind barbs with number" abstract="Rendered with barbs and wundspeed number">
    <Scale>1</Scale>
    <Offset>0</Offset>
    <RenderMethod>barb</RenderMethod>
    <RenderSettings rendertextforvectors="true" />
  </Style>

  <Style name="windbarbs_kts" title="Wind barbs + filled wind speed contours" abstract="Rendered with barbs">
    <IncludeStyle name="wind_colors_from_kts"/>
    <ContourLine width="1" linecolor="#444444" textcolor="#444444" textformatting="%2.0f" classes="7,11,16,21,27,34,41,48,56,64,74,84,100,200"/>
    <RenderMethod>barbshaded,barbshadedcontour,vectorshaded,vectorshadedcontour,barb</RenderMethod>
    <StandardNames standard_name="x_wind,y_wind"/>
  </Style>

  <Layer type="database">
    <Name>wind__at_10m</Name>
    <Title>Wind 10m flags</Title>
    <Variable>x_wind__at_10m</Variable>
    <Variable>y_wind__at_10m</Variable>
    <FilePath filter="">{ADAGUC_PATH}data/datasets/harmonie_wind_grid_30x30.nc</FilePath>
    <DataPostProc algorithm="ax+b" a="1" b="0" units="m/s"/>
    <Dimension name="time" units="ISO8601" default="min">time</Dimension>
    <Dimension name="forecast_reference_time" units="ISO8601">reference_time</Dimension>
    <Styles>Windbarbs,Windbarbwithnumbers,windbarbs_kts</Styles>
    <DataPostProc algorithm="convert_uv_components"/>
  </Layer>

  <!-- The following layer returns only the speed component in EDR and GetFeatureinfo -->
  <Layer type="database">
    <Name>wind_speed_at_10m</Name>
    <Title>Wind speed 10m</Title>
    <Variable>x_wind__at_10m</Variable>
    <Variable>y_wind__at_10m</Variable>
    <FilePath filter="">{ADAGUC_PATH}data/datasets/harmonie_wind_grid_30x30.nc</FilePath>
    <DataPostProc algorithm="ax+b" a="1" b="0" units="m/s"/>
    <Dimension name="time" units="ISO8601" default="min">time</Dimension>
    <Dimension name="forecast_reference_time" units="ISO8601">reference_time</Dimension>
    <Styles>Windbarbs,Windbarbwithnumbers,windbarbs_kts</Styles>
    <DataPostProc algorithm="convert_uv_components"/>
    <DataPostProc algorithm="filter_dataobjects" select="speed_component"/>
  </Layer>


  <!-- The following layer returns only the direction component in EDR and GetFeatureinfo -->
  <Layer type="database">
    <Name>wind_direction_at_10m</Name>
    <Title>Wind direction 10m</Title>
    <Variable>x_wind__at_10m</Variable>
    <Variable>y_wind__at_10m</Variable>
    <FilePath filter="">{ADAGUC_PATH}data/datasets/harmonie_wind_grid_30x30.nc</FilePath>
    <DataPostProc algorithm="ax+b" a="1" b="0" units="m/s"/>
    <Dimension name="time" units="ISO8601" default="min">time</Dimension>
    <Dimension name="forecast_reference_time" units="ISO8601">reference_time</Dimension>
    <Styles>Windbarbs,Windbarbwithnumbers,windbarbs_kts</Styles>
    <DataPostProc algorithm="convert_uv_components"/>
    <DataPostProc algorithm="filter_dataobjects" select="direction_component"/>
  </Layer>




<Style name="windbarbs_kts_shaded_withbarbs_for_grids">
  <IncludeStyle name="wind_colors_from_ms"/>

  <Vector  min="0" max="1"     vectorstyle="barb" linewidth="2" linecolor="#FFFFFF" plotvalue="false" outlinewidth="1.6" outlinecolor="#000000" />
  <Vector min="1" max="3.4"      vectorstyle="barb" linewidth="0" linecolor="#000000" plotvalue="true" />
  <Vector min="3.4" max="8"      vectorstyle="barb" linewidth="3" linecolor="#FFFF00" plotvalue="true" />
  <Vector min="8" max="10.8"     vectorstyle="barb" linewidth="1.5" outlinewidth="4" fontsize="15" outlinecolor="#000000"  linecolor="#FFFFFF" plotvalue="true" textcolor="#FFFFFF" />
  <Vector min="10.8" max="13.9"  vectorstyle="barb" linewidth="0" linecolor="#00FF00" plotvalue="true" textcolor="#111111"/>
  <Vector min="13.9"             vectorstyle="barb" linewidth="0" linecolor="#00FF00" plotvalue="true" textcolor="#111111"/>

  <RenderSettings renderhint="discreteclasses" />
  <!--
    Extracts point from a grid and makes them available for the point renderer
    - select: Which data objects to sample from the Layer
    - a: Optionally apply thinning in pixels, points will be no closer than a pixels in the GetMap response.
  -->
  <DataPostProc algorithm="pointsfromgrid" select="speed_component,direction_component" a="50"/>
  <!--
    Use nearest renderer and point renderer to render the windbarbs
    - nearest will render the grid via adagucserverEC/CImgWarpNearestNeighbour
  -->
  <RenderMethod>generic</RenderMethod>
</Style>

  <Layer type="database">
    <Name>barbs_by_pointsfromgrid</Name>
    <Title>barbs_by_pointsfromgrid</Title>
    <Variable>x_wind__at_10m</Variable>
    <Variable>y_wind__at_10m</Variable>
    <FilePath filter="">{ADAGUC_PATH}data/datasets/harmonie_wind_grid_30x30.nc</FilePath>
    <DataPostProc algorithm="ax+b" a="1" b="0" units="m/s"/>
    <Dimension name="time" units="ISO8601" default="min">time</Dimension>
    <Dimension name="forecast_reference_time" units="ISO8601">reference_time</Dimension>
    <Styles>windbarbs_kts_shaded_withbarbs_for_grids</Styles>
    <DataPostProc algorithm="convert_uv_components"/>
    
  </Layer>



<Style name="testgeneric">
  <Legend>bluewhitered</Legend>
  <IncludeStyle name="wind_colors_from_ms"/>
  <Vector  min="0" max="1"     vectorstyle="barb" linewidth="2" linecolor="#FFFFFF" plotvalue="false" outlinewidth="1.6" outlinecolor="#000000" />
  <Vector min="1" max="3.4"      vectorstyle="barb" linewidth="0" linecolor="#000000" plotvalue="true" />
  <Vector min="3.4" max="8"      vectorstyle="barb" linewidth="3" linecolor="#FFFF00" plotvalue="true" />
  <Vector min="8" max="10.8"     vectorstyle="barb" linewidth="1.5" outlinewidth="4" fontsize="15" outlinecolor="#000000"  linecolor="#FFFFFF" plotvalue="true" textcolor="#FFFFFF" />
  <Vector min="10.8" max="13.9"  vectorstyle="barb" linewidth="0" linecolor="#00FF00" plotvalue="true" textcolor="#111111"/>
  <Vector min="13.9"             vectorstyle="barb" linewidth="0" linecolor="#00FF00" plotvalue="true" textcolor="#111111"/>


  <RenderMethod>generic</RenderMethod>
</Style>

  <Layer type="database">
    <Name>x_wind__at_10m</Name>
    <Title>x_wind__at_10m</Title>
    <Variable>x_wind__at_10m</Variable>
   
    <FilePath filter="">{ADAGUC_PATH}data/datasets/harmonie_wind_grid_30x30.nc</FilePath>
    <DataPostProc algorithm="ax+b" a="1" b="0" units="m/s"/>
    <Dimension name="time" units="ISO8601" default="min">time</Dimension>
    <Dimension name="forecast_reference_time" units="ISO8601">reference_time</Dimension>
    <Styles>testgeneric</Styles>

    
  </Layer>
  <!-- End of configuration /-->
</Configuration>